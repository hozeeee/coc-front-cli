npm config set registry=http://registry.npmjs.org
npm config set registry=http://registry.npm.taobao.org


15820676504@139.com


npm包发布的坑：

1. 必须注册 npm 的账号。
- 账号在 npm 官网上随便都能注册的
- 注册账号之后，需要到自己的邮箱中，打开 npm 提供的"验证链接"。

2. 本地需要登录 npm 账号才能提交。
- npm login 后会提示输入 账号、密码、邮箱
- 需要注意的是，如果原本使用了淘宝镜像源，需要把源切回到官方的
- npm config set registry=http://registry.npmjs.org
- npm config set registry=http://registry.npm.taobao.org

3. 提交包。
- 提交包之前，先去 npm 搜索包的名字是否已经被占用。
- 在登录之后，在包的根目录下，使用 npm publish 命令提交包。

4. 删除包。
- 使用 npm unpublish 可以删除包。
- 一旦删除了包，24小时内不能再提交重复的包。
- 提交超过24小时的包，是不能删除，但你可以上传一个空包。不给删除的原因是，以防其他人用同名的包所引发的安全问题。
- 超过24小时的包的下架需要联系npm维护者；

5. 指定 bin 文件，用于创建命令。
- 在项目的 package.json 文件中，添加字段 "bin" ，例如：
``` json
"bin": {
    "xxx-cli": "./bin/xxx-cli"
  },
```
- bin 文件夹和 xxx-cli 是需要自己去创建的，如何写，请参考其他包的命令

6. 指定发布忽略的文件。
- ".npmignore" 是类似于 ".gitignore" 的文件，用于 npm 包发布的。
- 在 package.json 的 files:["package.json","src"] 中可以指定"发布白名单"。
- 优先级顺序： files > ".npmignore" > ".gitignore"
























